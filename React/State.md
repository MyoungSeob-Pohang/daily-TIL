# State ( 상태 )

이 상태라는 것을 이해하면 개인적으로 react를 50%이상 이해한 것이라 봐도 무관하다 할 정도로 굉장히 중요하다.  
상태라는 것을 쉽게 표현하기 위해 사람의 몸에 빗대어서 이해하자.  
사람은 시간이 지나면 자동으로 배가 고파지고 음식을 먹으면 배가 부르고 시간이 흐르면 적당한 상태가 되었다가 다시 배가 고파진다.  
이렇게 배고픔에 관련된 상태가 배고픔 -> 배부름 -> 적당함 -> 배고픔 순으로 계속 반복되는 것을 인간의 허기상태라고 할 수 있다.  
사람은 이 허기상태에 따라 적절한 행동을 하는데 배가 고플때는 배고프다 하면서 음식을 먹을 것이고, 배부른 상태에선 소화를 시키려 할 것이고, 적당한 상태에서는 일상적으로 행동할 것이다.  
그래서 결론적으로 상태란 게속해서 변화하는 특정상태, 상태에 따라 각각 다른 동작을 한다 라고 생각하고 이해하면 된다.  
이것을 웹에 빗대어 보면 더 이해가 쉬운데 요즘 웹사이트에 다크모드(dark mode)가 많이 있다. 어떤 컴포넌트가 상태라는 테마를 가지고 그 테마라는 상태는 dark와 light라는 값을 가지고 있다. 사용자는 스위치를 통해서 이 상태를 dark에서 light로, light에서 dark로 변화시킬 수 있다. 이것이 상태이다.

그럼 직접 상태를 어떻게 사용하고 관리하는지 만들어보자. 상태에서 가장 많이 사용하는 예제는 Count다. +버튼을 누르면 1이 증가 , -버튼을 누르면 1감소되는 간단한 예제이다.

```
import React, { useState } from 'react';

const Count = () => {
    const [count, setCount] = useState(0);

    const add = () => {
        setCount(count + 1);
    };

    const minus = () => {
        setCount(count - 1);
    };

    return (
        <div>
            <h2>{count}</h2>
            <button onClick={add}>+</button>
            <button onClick={minus}>-</button>
        </div>
    );
};

export default Count;
```

순서를 보자면 일단

1. 상태를 사용하기 위해 useState라는 메서드를 추가적으로 import 하였다.
2. const [count, setCount] = useState(0); 라고 선언하여 초기 값을 세팅해준다.
3. add, minus는 setCount에 접근하여 값을 변경시킨다.
4. h2태그에서 count를 표시하고
5. 각 버튼에 맞는 함수를 onClick로 연결하여 준다.

그럼 add버튼을 누르게 되면 add함수가 호출되면서 setCount로 접근하여 기존에 가진 count의 값을 1증가시키고, minus버튼을 누르면 minus함수가 호출되어 count값을 1 감소시킨다.
이렇게 useState로 상태관리를 하고 싶은 것을 정해놓고 1번째 인덱스 setCount인 두번쨰 값으로 값을 조절한다. 이 때 주의할 점은 0번 인덱스인 count에 아무리 +1을 해도 에러만 날 뿐 값이 수정되지 않는다.  
즉 0번 인덱스 count : 값 , 1번 인덱스 setCount : count의 값을 변화시키는 상태변화 함수이다. 그리고 useState를 사용하면서 넘겨준 0은 count의 초기 값 이된다.

근데 결론적으로 화면에 실시간으로 값이 바뀐다는 것은 이 count 상태가 바뀔때 마다 이 Count라는 함수가 반환을 다시 하는게 된다. 즉 값이 바뀔때 마다 return이 다시 일어난다는 것이다.(re render) / 리액트는 어떤 컴포넌트가 가진 State가 바뀌면 그 컴포넌트가 리랜더 된다고 생각하면 된다.
